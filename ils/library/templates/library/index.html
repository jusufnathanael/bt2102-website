{% extends "library/layout.html" %}

{% block body %}
    {{ message }}
    <h1>Books</h1>
    <ul>
        {% for book in books %}
            <li>
                <a href="{% url 'details' book.0 %}">Book</a>
                ({{ book.0 }}): {{ book.1 }} - {{ book.2 }}
                {% if book.2 == "AVAILABLE" %}
                    <a href="{% url 'borrow' book.0 %}">BORROW</a>
                {% elif book.2 == "BORROWED" %}
                    <a href="{% url 'reserve' book.0 %}">RESERVE</a>
                    <a href="{% url 'extend' book.0 %}">EXTEND</a>
                {% elif book.2 == "RESERVED" %}
                    <a href="{% url 'cancel' book.0 %}">CANCEL</a>
                {% else %}
                    UNAVAILABLE
                {% endif %}
                <a href="{% url 'restore' book.0 %}">RETURN BOOK</a>
            </li>
        {% endfor %}
    </ul>

    <form action="{% url 'search' %}" method="get">
        <input class="search" type="text" name="q" placeholder="Search Books">
    </form>

    <a href="{% url 'logout' %}">Log Out</a>

{% endblock %}